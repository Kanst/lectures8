
# Сети и телекоммуникации

Еремин Олег Юрьевич

Литература: Таненбаум Э. Компьютерные сети


# Этапы проектирования компьюьтерной сети

1. Описание предметной области
2. Анализ административного деления предприятия
3. Анализ территориального распределения структур предприятия
4. Построение физической инфраструктуры сети предприятия
5. Построение логической инфраструктуры сети предприятия
6. Анализ информационных потоков
7. Подбор оборудования
8. Расчет стоимости создания или модернизации сети
9. Определение регламентов работы с сетью
10. Настройка сетевых служб


# Основные сведения об инфраструктуре сети

**Инфраструктура сети**: это набор физических и логических компонентов, которые обеспечивают связь, безопасность маршрутизацию, управление, доступ и другие обязательные свойства сети.

1. Простые сети
2. Наследствие проекта
3. Внешние обстоятельства (например, подключение к интернету)
4. Физическая инфраструктура сети
  - Топология -- физическое строение сети со всем ее оборудованием: кабелями, маршрутизаторами, мостами, концентраторами, хабами, коммутаторами, серверами и узлами

[СХЕМА СЕТИ]

- H - hub
- SW - switch
- S - server
- WS - work station
- FW - firewall
- R - router
- MD - mobile device
- PSTN - public switched telephone network


## Логическая инфраструктура сети

Логическая инфраструктура сети состоит из всего множества программных элементов, служащих для связи, управления и безопасности сети, и обеспечивающих связь между компьютерами с использованием коммуникационных каналов, определенных в физической топологии.

- DNS
- TCP/IP
- Client Service for NetWare
- QoS (Quality of Service)
  - Quality Management
- VPN
- PKI


# Модель OSI

В основе иерархии лежат 3 концепции:

1. Службы или сервисы. Сервис определяет что делает уровень и каким способом сущности, расположенные выше получают данные
2. Интерфейсы. Определяют способ доступа к расположенному выше уровню, описывают параметры и ожидаемый результат
3. Протоколы. Язык взаимодействия между службами одного уровня


Набор уровней и используемые протоколы -- архитектура сети.

Набор протоколов, используемых на каждом уровне -- стек протоколов.


- Физическая среда передачи
- Ур 1 -- Ур 1
- Ур 2 -- Прот. ур. 2 -- Ур 2
- Ур 3 -- Ур 3
- Ур 4 -- Ур 4
- Ур 5


## Эталонная модель OSI

- Application -- прикладной уровень -- нужен только для того, чтобы программистам было удобнее писать программы (например, текстовые протоколы)
- Presentation -- уровень представления -- данные рассматриваются по типам (аудио, видео, текст и т.д.). Сейчас также реализован на прикладном уровне
- Session -- нужен для создания виртуальных каналов/сеансов связи. Например, при видеоконференции голос может обслуживаться по высокому качеству, а видео по остаточному принципу. В реальной жизни создаются обычно на уровне ниже или выше
- Transport -- транспортный -- этот уровень должен проверять, дошли ли данные и проверять их порядок
- Network -- множество узлов, между которыми данные передаются через всю сеть
- Data link -- канальный уровень -- уровень передачи данных, единицы и ноли именно здесь
- Physical -- сигнал, напряжение, амплитуда, частота, световые лучи


## TCP/IP

- application, presentation, session -- прикладной
- transport -- уровень передачи (TCP -- Transmission Control Protocol, UDP -- User Diagram Protocol)
- network -- IP -- уровень межсетевого взаимодействия
- data link, physical -- уровень доступа к среде (например, ethernet)


## Гибридная модель

- application, presentation, session -- прикладной
- transport -- транспортный -- сегмент
- network -- сетевой -- дектаграмма
- data link -- канальный -- кадр (пакет канального уровня)
- physical -- физический


## Классификация компьютерных сетей

### По технологии передачи

1. Вещание
2. Точка - точка

### По принципу организации обмена

1. Коммутация каналов (например, старая телефонная станция)
2. Коммутация сообщений
3. Коммутация пакетов (пакет меньше сообщения, поэтому пакеты от разных наборов данных могут посылаться вперемешку

### По территориальной распространенности

1. LAN -- Local Area Network (несколько соединенных помещений), ЛВС -- локальная вычислительная сеть
2. CAN -- Campus Area Network (одно или несколько связанных зданий)
3. MAN -- Metropolitain Area Network (сеть масштаба города)
4. WAN -- Wide Area Network (сеть масштабов страны), ГВС -- глобальная вычислительная сеть
5. SAN -- Solar Area Network
6. GAN -- Galactic Area Network

### По топологии

1. Кольцо
2. Шина
3. Звезда

### По скорости

Плавает

### По типу среды передачи данных

1. Проводные
2. Беспроводные

### По иерархии

1. Одноранговые
  - p2p
    - Napster
    - eDonkey
    - BitTorrent
    - Kad
    - i2p
    - TOR
2. С выделенным сервером


### Физический уровень

Среда передачи данных -- линии или каналы связи, по которым компьютеры могут обмениваться информацией.

- Кабельные
- Проводные
- Беспроводные

Параметры кабеля:

1. Полоса пропускания -- частотный диапазон
2. Задержка распространения сигнала
3. Затухание -- потеря мощности на выходе по сравнению со входом
4. Волновое сопротивление


Виды кабелей:

1. Коаксиальный кабель (RG-8, RG-11)
  - Структура
    - Центральная медная жила (по которой передаются данные)
    - Защитный полупроводник
    - Защитная оплетка
    - Внешняя оболочка
  - 50 Ом
  - 0.89 мм / 5 мм
2. Витая пара
  - STP (Shielded Twitsted Pair)
  - UTP (Unshielded Twitsted Pair)
  - Коннектор -- RJ-45 (точнее, похож на него)
  - Коннектор у телефонной витой пары -- RJ-11
  - Официально один сегмент может быть длиной до 100 метров
  - Категории
    1. Использовался до 1993 года в основном для телефонных линий
    2. Полоса пропускания 1 МГц. Использовалась исключительно в IBM
    3. Использовалась в телефонии после первой категории (16 МГц). По ней и начали передавать данные
    4. Большой популярности не получил, полоса пропускания 20 МГц
    5. Либо 5e. Полоса пропускания 100 МГц. Используется сейчас
    6. Полоса пропускания 200 МГц
      - UTP
      - STP
    7. Полоса пропускания 600 МГц. Как и 6я категория, особую популярность не получили
      - Только STP
3. Оптоволокно
  - Структура
    - В центре стеклянная жила
    - Заключена в другую жилу с другим коэффициентом преломления
  - Оптоволокно очень хрупкое, для соединения провода сваривают
  - Бывают одномодовые и многомодовые (луч одной частоты, либо лучи разных частот с разными углами отражения)
    - Одномодовый -- 9/125 мкм (центральная жила и диаметр стеклянной оболочки) -- до ~10 км
    - Многомодовый -- 50/125 мкм, 62.5/125 мкм -- до ~2 км


## Виды сигналов и их передача

Бод -- символы в секунду.


# Канальный уровень

Поддерживает уровень между двумя хостами, т.е. связь хост-хост/узел-узел.

Существует 2 типа канала:
- Широковещательный. Множество устройств с одной линией связи. Протоколы доступа
  к несущей - протоколы, разреш. проблемы связи.
- Точка-точка. 1 получает, другой адресует. Протокол доступа к несущей здесь
  прост.

# Службы канального уровня.

Как правило, каждый кадр канальногоь уровня содержит одну дейта

![alt text](seti_3.jpg)

Основная служба - перемежение дейтаграм между двумя узлами по одной линии связи.

Сервисы канального уровня:
1. Формирование кадра.
2. Доступ к линии связи (MAC).
3. Надежная доставка. (Передоставка, дублирование линий связи).
4. Управление потоком
5. Обнаружение ошибок
6. Исправление ошибок
7. Дуплексная и полудуплексная передача.

# Сетевые адапторы. NIC (network interface card)

![alt text](seti_4.jpg)

# Обнаружение и исправление ошибок.
Если целый, то передаем на следующий уровень. Если нет, то, как правило,
отбрасываем.  

![alt text](seti_5.jpg)

Чтобы решить какую-то проблему используют контроль по нечетности.

d1,1...d1,j     | d1,j+1

d2,1...d2,j     | d2,j+1

-------------------

di,1...di,j     | di,j+1

--------------------

di+1,1...di+1,j | di+1,j+1


CRC (Cyclic Redundancy Check)

D (Nразр) R (r разр)

P(x) = sum (n = 0 to N - 1) an x^n

G(Gx) - порождаемый многочлен

R(x) = P(x) * 2k mod G(x)


# Протоколы коллективного доступа

## TDM и FDM-мультиплексироание

- TDM (Time Division Multiplexing)
  - Справедливое разделение канала
  - На время слота клиенту предоставляется вся пропускная способность канала
- FDM (Frequent Division Multiplexing)
  - Справедливое разделение канала

R бит/c

N устройств


## CDMA

Code Division Multiple Access (множественный доступ с кодовым разделением канала).

d0 = 1, d1 = -1

c = (1, 1, 1, -1, 1, -1, -1, -1)

Умножаем c на каждый из этих битов.

z0 = (1, 1, 1, -1, 1, -1, -1, -1)

z1 = (-1, -1, -1, 1, -1, 1, 1, 1)

z0 и z1 передаются по каналу связи.

На приемной стороне также присутствует код C, соответствующий отправителю.

di = 1/M sum(m = 1 to M) Z i, m * Cm

Протокол CDMA работет в предположении об аддитивности интерферирующих битовых сигналов (пересекающиеся складываются).


- Отправитель 1
  - d01 = 1 d11 = -1
  - c1 = (1, 1, 1, -1, 1, -1, -1, -1)
  - z01 = (1, 1, 1, -1, 1, -1, -1, -1)
  - z11 = (-1, -1, -1, 1, -1, 1, 1, 1)
- Отправитель 2
  - d02 = 1, d12 = 1
  - c2 = (1, -1, 1, 1, 1, -1, 1, 1)
  - z02 = (1, -1, 1, 1, 1, -1, 1, 1)
  - z12 = (1, -1, 1, 1, 1, -1, 1, 1)
- (+)
  - z0 = (2, 0, 2, 0, 2, -2, 0, 0)
  - z1 = (0, -2, 0, 2, 0, 0, 2, 2)
- Получатель
  - C1 = (1, 1, 1, -1, 1, -1, -1, -1)
  - C2 = (1, -1, 1, 1, 1, -1, 1, 1)
  - di = 1/M sum (m = 1 to M) z ^ * i, m  *  cm


# Протоколы произвольного доступа

## ALOHA

- Все кадры одинаковые
- Все время разделено на слоты, равные времени передачи одного кадра
- Узлы начинают передачу кадров только в момент начала очередного слота
- Узлы синхронизируются так, что каждый узел знает, когда начинается слот
- Если в течение слота происходит коллизия, то узлы ее обнаруживают до окончания этого слота


## Протоколы CSMA и CSMA/CD
